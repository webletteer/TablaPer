<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <title>Trivia</title>
    <link rel="stylesheet" href="css/estilos.css">
    <link rel="stylesheet" href="css/estilo2.css">
    <script type="text/javascript" src="js/audMusica.js"></script>
    <style media="screen">
	    body { background-image: url("img/03.png");}
	    .fondoR{
            background-image: url("img/encabeza.png");}
    </style>
  </head>
  <header>
      <div class="menu">
        <nav class="menu-fixed">
          <ul>
            <li><a href="quienes.html" class="boton3"> | Quiénes Somos</a></li>
            <li><a href="test.html" class="boton2"> | Test</a></li>
  		      <li><a href="romp.html" class="boton4"> | Trivia</a></li>
            <li><a href="historia.html" class="boton5"> | Historia</a> </li>
            <li><a href="index.html" class="boton1"> | Inicio</a> </li>
            <div class="logo">
              <img src="img/qumicaLogo.png" alt="quimica">
            </div>
          </ul>
        </nav>
      </div>
  </header>
  <body>
    <div class="fondo">
      <div class="fondoR">
         <body background="img/03.png"> 
        <div class="contenedor">
          <div class="cuadro4">
            <h1 class="titulo">Trivia tabla periódica</h1>
            <div class="margenopcional">
            </div>
          </div>
          <div class="imagenatencion">
            <img  src="img/cientifi.gif" height: "122px" >
          </div>
        </div>
      </div>
      <div class="contenedor">
        <p>CONTESTA LAS PREGUNTAS, COMO CREAS CORRECTO</p>
        <div class="fondoaudio">
          <p><h1>- - - - - - - <audio id="aud1" src="auds/Puzzlejuego.mp3" controls autoplay loop></audio>
          - - - - - - - -
          </h1></p>
        <p>.</p>
      </div>
      	<h2 id="preg"></h2>
      	<input type="text" id="dato">
      	<button id="boton">Siguiente Pregunta</button>
      	<p id="resolucion"></p>

      	<script>
      		// Array bidimensional donde se guardarán las preguntas junto a sus respuestas correctas correspondientes...
      		var preguntas = [																			// Pregunta Respuesta
      				['¿Cual es el primer elemento de la tabla periodica?', 'Hidrogeno'],         //  [0][0]   [0][1]
      				['¿Como se llama el centro del atomo?', 'nucleo'],															//  [1][0]   [1][1]
      				['¿es verdad o mentira que los acidos tienen un nivel de ph por debajo de 7?', 'verdad'],                //  [2][0]   [2][1]
      				['¿Cuál es el gas principal que se encuentra en el aire que respiramos?', 'nitrogeno'],									// ...
      				['¿Cuál es el cuarto elemento más abundante en el universo en términos de masa?', 'carbono'],
      				['¿Qué es H2o más comúnmente conocido como?', 'agua'],
      				['¿Una reacción nuclear donde el núcleo de un átomo se divide en partes más pequeñas se conoce como fisión nuclear o fusión nuclear?', 'Fisión nuclear'],
      				['A temperatura ambiente, ¿cuál es el único metal que está en forma líquida?', 'mercurio'],
      				['¿Cómo se llama nuestro planeta?', 'Tierra'],                                      // ...
      				['¿Qué orbita el núcleo de un átomo?', 'electrones']						// [9][0] y [9][1]
      			],
      			pregunta, respuesta,
      			formuladas = 0,
      			acertadas = 0;
      		hazPregunta();
      		/*
      			Se programa que al pulsarse el botón "Siguiente Pregunta" se compruebe si se ha acertado la pregunta, en cuyo caso, se incrementa en una unidad 'acertadas'.
      			También se comprueba si ya se han realizado las 5 preguntas, en cuyo caso, se llama a 'muestraResultado()' que mostrará el resultado del juego y terminará el programa, de lo contrario, se formula una nueva pregunta.
      		*/
      		document.getElementById('boton').addEventListener('click', function(){
      			var entrada = document.getElementById("dato").value;
      			if(entrada == respuesta){
      				acertadas++;
      			}
      			if(formuladas < 5){			// Si aun no se han hecho 5 preguntas...
      				hazPregunta();			// ... seguir preguntando
      			}
      			else{						// de lo contrario...
      				muestraResultado();		// ... finaliza juego mostrando el resultado
      			}
      		});
      		/*
      			Formula una pregunta al usuario...
      		*/
      		function hazPregunta(){
      			var e;			// simple variable auxiliar
      			// se extrae una pregunta/respuesta al azar del array...
      			e = preguntas.splice( numAleat(0, preguntas.length-1), 1 );
      			pregunta = e[0][0];			// se guardan la pregunta y la respuesta
      			respuesta = e[0][1];
      			document.getElementById('preg').innerHTML = pregunta;        // se muestra la pregunta
      			document.getElementById('dato').value = '';                  // se borra lo escrito anteriormente por el usuario
      			formuladas++;
      		}
      		// Comprueba el número de preguntas acertadas y muestra mensaje en función de este...
      		function muestraResultado(){
                  var resultado;      // para guardar el mensaje con el resultado
      			switch(acertadas){
      				case 0:
      					resultado = 'No has acertado una sola pregunta, toca estudiar :-/';
      					break;
      				case 1:
      					resultado = 'Bueno, al menos has acertado una pregunta :-)';
      					break;
      				case 2:
      					resultado = 'Solo 2 preguntas acertadas de 5. Toca mejorar.';
      					break;
      				case 3:
      					resultado = 'No está mal, 3/5 acertadas.';
      					break;
      				case 4:
      					resultado = 'Muy bien, has acertado 4 preguntas :-)';
      					break;
      				case 5:
      					resultado = '¡EXCELENTE, has acertado todas las preguntas! :-D';
      					break;
      			}
                  document.getElementById('resolucion').innerHTML = resultado;
      		}
      		/*
      			Devuelve un número aleatorio entero entre 'min' y 'max' (ambos inclusive)
      		*/
      		function numAleat(min, max){
      			return Math.floor( Math.random() * (max - min + 1) ) + min;
      		}
      	</script>
        <h1></h1>

      </div>
    </div>


  </body>
</html>
